<html>
<head>

<title>PPA Web App</title>
<link rel='stylesheet' href='lib/leaflet/leaflet.css' />
<link rel='stylesheet' href='lib/bootstrap/css/bootstrap.css' />
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />

<script src='lib/leaflet/leaflet.js'></script>
<script src='lib/jquery-1.11.3.min.js'></script>
<script src='lib/bootstrap/js/bootstrap.min.js'></script>

<!--Leaflet Plugins-->
<link rel='stylesheet' href='lib/leaflet-measure/dist/leaflet-measure.css' />
<script src='lib/leaflet-measure/dist/leaflet-measure.js'></script>

<link rel='stylesheet' href='lib/leaflet-zoombox/L.Control.ZoomBox.css' />
<script src='lib/leaflet-zoombox/L.Control.ZoomBox.min.js'></script>
<style>
 #map { height: 500px; }
</style>

</head>

<body>
<div id='map'></div>
</body>

<script>
var map = L.map('map').setView([13.768811236033613, 121.0456834777538], 16);

//add osm layer to the map
L.tileLayer('http://a.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 16,
    minZoom: 3
}).addTo(map);

//add measure control plugin
var measurecontrol = L.control.measure().addTo(map); 

//add zoombox control plugin
var control = L.control.zoomBox({
    modal: true,  // If false (default), it deactivates after each use.  
                  // If true, zoomBox control stays active until you click on the control to deactivate.
    // position: "topleft",                  
    // className: "customClass"  // Class to use to provide icon instead of Font Awesome
});
map.addControl(control);


//get Batangas roads data from ppa api
var roadsdata; 
$.ajax({
  url: 'http://geospatialapi-lkpanganiban.rhcloud.com/ppaapi/batangasroads/',
  dataType: 'json',
  async: false,
  success: function(data) {
	roadsdata = data;
  }
});

//add base ports data to the map with popup information
var roads = L.geoJson(roadsdata, {
	onEachFeature: function(feature, layer){
		layer.bindPopup(feature.properties.name);
	}
}).addTo(map);



//get Batangas boundary data from ppa api
var boundarydata; 
$.ajax({
  url: 'http://geospatialapi-lkpanganiban.rhcloud.com/ppaapi/batangasboundary/',
  dataType: 'json',
  async: false,
  success: function(data) {
	boundarydata = data;
  }
});

//add base ports data to the map with popup information
var boundary = L.geoJson(boundarydata, {
	onEachFeature: function(feature, layer){
		layer.bindPopup(feature.properties.name);
	}
}).addTo(map);



</script>
</html>
