<html>
<head>

<title>PPA Web App</title>
<link rel='stylesheet' href='lib/leaflet/leaflet.css' />
<link rel='stylesheet' href='lib/bootstrap/css/bootstrap.css' />

<script src='lib/leaflet/leaflet.js'></script>
<script src='lib/jquery-1.11.3.min.js'></script>
<script src='lib/bootstrap/js/bootstrap.min.js'></script>
<style>
 #map { height: 500px; }
</style>

</head>

<body>
<div id='map'></div>
</body>

<script>
var map = L.map('map').setView([14.121, 121.5482], 5);
L.tileLayer('http://a.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 14,
    minZoom: 3
}).addTo(map);


//get base ports data from ppa api
var baseportdata; 
$.ajax({
  url: 'http://geospatialapi-lkpanganiban.rhcloud.com/ppaapi/baseports/',
  dataType: 'json',
  async: false,
  success: function(data) {
	baseportdata = data;
  }
});

//add base ports data to the map with popup information
var basepoint = L.geoJson(baseportdata, {
	onEachFeature: function(feature, layer){
		layer.bindPopup(feature.properties.name + "<br>Latitude: " + feature.geometry.coordinates[0] + "<br>Longitude:" + feature.geometry.coordinates[1]);
	}


}).addTo(map);

</script>
</html>
